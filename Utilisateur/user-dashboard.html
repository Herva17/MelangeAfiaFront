<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AFIA - Espace Patient</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <link rel="stylesheet" href="user-style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="container">
      <!-- Sidebar -->
      <nav class="sidebar">
        <div class="logo">
          <img src="logo.png" alt="AFIA Logo" />
          <h2>AFIA</h2>
        </div>
        <ul class="nav-links">
          <li class="active">
            <a href="user-dashboard.html"><i class="fas fa-heart">Ma sante</i> </a>
          </li>
          <li>
            <a href="notification.html"><i class="fas fa-bell">Notifications</i></a>
          </li>
          <li>
            <a href="parametre.html"><i class="fas fa-cog">Compte</i> </a>
          </li>
        </ul>
      </nav>


      <!-- Main Content -->
      <main class="main-content">
        <header>
          <div class="header-left">
            <h1>Mon Espace Santé</h1>
            <p>Suivi Personnel - AFIA</p>
          </div>
          <div class="header-right">
            <div class="notifications">
              <i class="fas fa-bell"></i>
              <span class="notification-badge">2</span>
            </div>
            <div class="user-profile">
              <img src="user-avatar.png" alt="Profile" />
              <span>Jean Dupont</span>
            </div>
          </div>
        </header>

        <div class="dashboard-grid">
          <!-- État de santé actuel -->
          <!-- Health Status Card -->
          <div class="health-status-card">
            <h3>État de Santé Actuel</h3>
            <div class="vital-signs">
                <div class="vital-sign" onclick="showDetailedInfo('heartRate', 80)">
                    <i class="fas fa-heartbeat"></i>
                    <p>Rythme Cardiaque</p>
                    <h4 id="heartRateDisplay">80 BPM</h4>
                </div>
                <div class="vital-sign" onclick="showDetailedInfo('bloodPressure', { systolic: 120, diastolic: 80 })">
                    <i class="fas fa-stethoscope"></i>
                    <p>Tension Artérielle</p>
                    <h4 id="bloodPressureDisplay">120/80</h4>
                </div>
            </div>
        </div>
        
        
        

          <!-- Placeholder for Additional Cards (detailed info) -->
          <div id="additional-info-container"></div>

          <!-- Dernières notifications -->
        </div>
      </main>
    </div>

    <!-- <script>
      // Fonction pour appeler l'API OpenAI et récupérer des conseils personnalisés
      async function getChatGPTAdvice(type) {
        const apiKey = 'VOTRE_CLÉ_API_OPENAI'; // Remplacez par votre clé API OpenAI

        const prompt = type === 'heartRate' ?
            'Donne-moi des conseils santé sur un rythme cardiaque normal de 75 BPM.' :
            'Donne-moi des conseils santé sur une tension artérielle de 120/80 mmHg.';

        const requestBody = {
            model: 'gpt-4', // Ou gpt-3.5-turbo selon ce que vous avez accès
            messages: [
                { role: 'system', content: 'Tu es un assistant médical.' },
                { role: 'user', content: prompt }
            ],
            max_tokens: 300,
        };

        const response = await fetch('https://api.openai.com/v1/chat/completions', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Authorization': `Bearer ${apiKey}`
            },
            body: JSON.stringify(requestBody)
        });

        const data = await response.json();
        return data.choices[0].message.content; // Récupère la réponse de ChatGPT
      }

      // Fonction pour afficher des informations détaillées et des conseils sur l'état de santé
      async function showDetailedInfo(type) {
        let additionalInfoContainer = document.getElementById('additional-info-container');
        let additionalCard = document.createElement('div');
        additionalCard.classList.add('additional-card');

        // Appel à l'API pour obtenir des conseils supplémentaires
        let additionalAdvice = await getChatGPTAdvice(type);

        if (type === 'heartRate') {
          additionalCard.innerHTML = `
            <h4>Rythme Cardiaque : 75 BPM</h4>
            <p>Votre rythme cardiaque est de 75 battements par minute (BPM). Ce rythme est dans la plage normale pour un adulte en bonne santé au repos. Cela signifie que votre cœur fonctionne efficacement et qu'il n'y a pas de signes évidents de problèmes cardiaques.</p>
            <p><strong>Conseils :</strong></p>
            <ul>
                <li>${additionalAdvice}</li>
            </ul>
          `;
        } else if (type === 'bloodPressure') {
          additionalCard.innerHTML = `
            <h4>Tension Artérielle : 120/80 mmHg</h4>
            <p>Votre tension artérielle est de 120/80 mmHg, ce qui est considéré comme normal. La pression systolique (120) indique la force du sang contre les parois des artères lorsque votre cœur bat, et la pression diastolique (80) indique la force du sang entre deux battements de cœur.</p>
            <p><strong>Conseils :</strong></p>
            <ul>
                <li>${additionalAdvice}</li>
            </ul>
          `;
        }

        // Ajout de la nouvelle carte au conteneur
        additionalInfoContainer.innerHTML = ''; // Efface les cartes précédentes
        additionalInfoContainer.appendChild(additionalCard);
      }
    </script> -->
    <script src="scripts.js"></script>
  </body>
</html>
